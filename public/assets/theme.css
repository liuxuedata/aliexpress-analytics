@import url("./handoff-theme.css");

/* =====================================================================
   Unified Light Theme (white content + dark sidebar)
   Drop-in replacement for assets/theme.css
   Works for: index.html (自运营) and managed.html (全托管)
   ===================================================================== */

/* ------ CSS Variables (Light) ------ */
:root{
  --bg: #f3f4f6;                   /* app background */
  --panel: #ffffff;                /* white panels */
  --panel-border: #e5e7eb;         /* light border */
  --brand: #1e40af;                /* deep brand blue */
  --blue: #2563eb;                 /* accent blue */
  --orange: #f97316;               /* accent orange */
  --text: #111827;                 /* primary text (very dark) */
  --muted: #6b7280;                /* muted gray text */
  --thead-bg: #f8fafc;             /* table head */
  --row-odd: #ffffff;              /* zebra row odd */
  --row-even: #f9fafb;             /* zebra row even */
  --row-hover: #eef2f7;            /* row hover */
  --shadow: 0 8px 24px rgba(16,24,40,.06);
  --nav-bg: #e0e7ff;               /* header background tint */
  --nav-hover: #dbeafe;            /* nav item hover */
}

*{ box-sizing:border-box }
html, body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,Helvetica,"PingFang SC","Hiragino Sans GB","Microsoft YaHei",sans-serif;
}

/* ------ Top Navigation ------ */
.header{
  background:var(--nav-bg);
  color:var(--text);
  position:sticky;
  top:0;
  z-index:2000;
  width:100%;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 16px;
  box-shadow:0 1px 2px rgba(0,0,0,.05);
}
.logo-title{font-weight:700;font-size:16px;color:var(--text);display:flex;align-items:center;gap:8px;}
.logo-title .site-logo{height:32px;}
.header-center{flex:1;display:flex;justify-content:center;}
.header-center .platform-nav{list-style:none;margin:0;padding:0;display:flex;gap:20px;}
.header-center .platform-nav>li{position:relative;}
.header-center .platform-nav>li>a{
  color:var(--text);
  text-decoration:none;
  padding:6px 10px;
  border-radius:6px;
  display:block;
  font-weight:700;
  border:1px solid transparent;
}
.header-center .platform-nav>li>a:hover{background:var(--nav-hover);}
.header-center .platform-nav>li.active>a{
  background:var(--brand);
  color:#fff;
  border:1px solid rgba(0,0,0,0.25);
  box-shadow:inset 0 2px 4px rgba(0,0,0,0.2);
}
/* gradient active states per platform */
.header-center .platform-nav>li.ali.active>a{
  background:linear-gradient(90deg,#ff6a00,#ffa100);
}
.header-center .platform-nav>li.amazon.active>a{
  background:linear-gradient(90deg,#ff9900,#ffb84d);
}
.header-center .platform-nav>li.tiktok.active>a{
  background:linear-gradient(90deg,#25f4ee,#fe2c55);
}
.header-center .platform-nav>li.temu.active>a{
  background:linear-gradient(90deg,#ff8c00,#ff5a00);
}
.header .dropdown{display:none;position:absolute;top:100%;left:0;background:#fff;color:#111;min-width:120px;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:2100;list-style:none;margin:0;padding:0;}
.header .dropdown ul{list-style:none;margin:0;padding:0;}
.header .dropdown li{position:relative;}
.header .dropdown a{color:#111;text-decoration:none;padding:6px 12px;display:block;}
.header .dropdown a:hover{background:#f3f4f6;}
.header .dropdown li.active>a{background:var(--brand);color:#fff;}
.header-center .platform-nav>li:hover>.dropdown{display:block;}
.header .dropdown li:hover>ul{display:block;}
.header .dropdown ul{display:none;position:absolute;top:0;left:100%;background:#fff;min-width:120px;border-radius:6px;box-shadow:0 2px 8px rgba(0,0,0,.15);z-index:2100;}
.header .user-section{margin-left:0;}
.header .user-section a{color:var(--text);text-decoration:none;font-weight:700;}

/* ------ Sidebar ------ */
.sidebar{
  width:220px;
  background:#0f172a;
  color:#fff;
  padding:16px;
  height:100vh;
  overflow:auto;
  border-right:1px solid #1f2937;
  position:sticky; top:0; z-index:1000;
}
.sidebar h3{ margin:0 0 10px; font-size:16px }
.site-header{ display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; }
.add-site-btn{ background:var(--brand); color:#fff; border:none; border-radius:4px; width:20px; height:20px; cursor:pointer; line-height:20px; text-align:center; }
.add-site-btn:hover{ background:#2563eb; }
.sidebar ul{ list-style:none; padding-left:0; margin:0 }
.sidebar li{ margin-bottom:10px }
.sidebar a{
  display:block; text-decoration:none;
  color:#94a3b8; font-size:14px; padding:6px 8px; border-radius:6px;
}
.sidebar a:hover{ color:#fff; background:#0b1a3b }
.sidebar .submenu{ list-style:none; padding-left:14px; display:none }
.sidebar .has-submenu>a{ cursor:pointer }
.sidebar .has-submenu.open .submenu{ display:block }
.sidebar .submenu a.active{ color:#fff; background:var(--brand) }
.sidebar .sub-nav{ list-style:none; padding-left:0; margin:0 }
.sidebar .sub-nav li{ margin-bottom:6px }
.sidebar .sub-nav a{ display:flex; align-items:center }
.sidebar .sub-nav .nav-icon{ width:16px; height:16px; margin-right:6px; flex-shrink:0; opacity:.8 }
.sidebar .sub-nav a:hover .nav-icon,
.sidebar .sub-nav a.active .nav-icon{ opacity:1 }
.sidebar .sub-nav a.active{ color:#fff; background:var(--brand) }

/* ------ Layout ------ */
.container, .layout{ display:flex; min-height:100vh }
.main{
  flex:1; display:flex; flex-direction:column; gap:12px;
  padding:16px; background:#ffffff;
}

/* generic paddings + panels */
.content-pad{ padding:12px }
.panel{
  background:var(--panel);
  border:1px solid var(--panel-border);
  border-radius:12px;
  padding:12px;
  box-shadow: var(--shadow);
}
.controls{ display:flex; align-items:center; gap:8px }
/* upload section header */
.upload-top{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;gap:10px}
.user-area{margin-left:auto}
.sel, select, input[type="text"]{
  padding:6px 8px; border:1px solid var(--panel-border);
  border-radius:8px; background:#fff; color:var(--text);
}
.upload-btn, .btn{
  padding:6px 12px; border-radius:8px; border:1px solid var(--panel-border);
  background:#fff; color:var(--text); cursor:pointer;
}
.upload-btn:hover, .btn:hover{ background:#f8fafc }
input[type="file"]{ display:none }

.grid{ display:grid; gap:16px }
.grid-2{ grid-template-columns:repeat(auto-fit,minmax(320px,1fr)) }

/* Divider */
.divider{ height:1px; background:var(--panel-border); margin:8px 0 12px }

/* Table containers */
.table-section{ background:transparent; padding:15px }
.table-wrapper{ overflow:auto }

/* compact table: smaller text and tighter cells */
table.dataTable,
table.dataTable th,
table.dataTable td{
  font-size:12px;
}
table.dataTable th,
table.dataTable td{
  padding:4px 6px;
}

/* ------ KPI Cards (managed.html) ------ */
.stat-card{
  background:var(--kpi-bg); border:1px solid var(--kpi-border);
  border-radius:14px; padding:12px 14px; box-shadow:var(--shadow);
}
.stat-card h4{ margin:0 0 6px; color:#334155; font-size:12px; letter-spacing:.2px }
.stat-card p{ margin:0; color:#0f172a; font-size:28px; font-weight:900; line-height:1.1 }
#kpi{ display:grid; grid-template-columns:repeat(auto-fit,minmax(210px,1fr)); gap:12px }

/* ------ Tables: DataTables High-Contrast Light ------ */
#report_wrapper{ background:#fff; border-radius:12px; padding:8px; border:1px solid var(--panel-border); box-shadow:var(--shadow) }

/* thead + fixed header */
table.dataTable thead th{
  background:var(--thead-bg) !important;
  color:var(--text) !important;
  border-bottom:1px solid var(--panel-border) !important;
  font-weight:800;
}
.fixedHeader-floating, .fixedHeader-floating th{
  background:var(--thead-bg) !important;
  color:var(--text) !important;
  border-bottom:1px solid var(--panel-border) !important;
}

/* body cells */
table.dataTable tbody td,
table.dataTable thead th{
  border-color:var(--panel-border) !important;
}
table.dataTable tbody td{
  color:var(--text) !important;
}

/* zebra + hover */
table.dataTable.stripe tbody tr:nth-child(odd){ background:var(--row-odd) !important }
table.dataTable.stripe tbody tr:nth-child(even){ background:var(--row-even) !important }
table.dataTable tbody tr:hover td{ background:var(--row-hover) !important }

/* links inside table */
#report a, #report a:visited{
  color:#1d4ed8; background:transparent; font-weight:700;
}
#report a:hover{ color:#1e3a8a; text-decoration:underline }

/* —— REMOVE first-column special background from old theme (fix asymmetry) —— */
#report.dataTable tbody td:first-child,
.DTFC_Cloned tbody td{
  background:transparent !important;
  color:var(--text) !important;
  border-color:var(--panel-border) !important;
  font-weight:700;
}
#report thead th:first-child{
  background:var(--thead-bg) !important;
  color:var(--text) !important;
  border-bottom:1px solid var(--panel-border) !important;
  font-weight:800 !important;
}
#report.dataTable tbody tr:hover td:first-child{ background:var(--row-hover) !important }

/* DataTables header buttons/sort state */
table.dataTable thead th.sorting_asc,
table.dataTable thead th.sorting_desc{
  background:var(--thead-bg) !important;
  color:#0f172a !important;
}

/* scroll shadows protection (optional) */
.dataTables_scrollBody{ border-top:1px solid var(--panel-border) }

/* Badges */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 8px; font-size:12px; border-radius:999px;
  color:#0f172a; background:#e0e7ff;
}

/* Misc small improvements */
.small{ font-size:12px; color:var(--muted) }
.label{ color:#334155; font-weight:600 }


/* ====== Self-Operated KPI (always one line) ======
   Works with .kpi container and .card items used by index.html (自运营)
   Guaranteed single row via flex + horizontal scroll on narrow screens.
*/
.kpi{
  display:flex;
  gap:12px;
  padding:0 12px;
  margin:10px 0;
  overflow:auto;           /* allow horizontal scroll if viewport too narrow */
  -webkit-overflow-scrolling: touch;
}
.kpi::-webkit-scrollbar{ height:8px }
.kpi::-webkit-scrollbar-thumb{ background:#e5e7eb; border-radius:999px }

.kpi .card{
  background:var(--kpi-bg);
  border:1px solid var(--kpi-border);
  border-radius:14px;
  padding:12px 14px;
  min-width:200px;         /* keep readable width */
  box-shadow: var(--shadow);
  flex:0 0 1;              /* fixed width cards for single-row layout */
}
.kpi .card h4{ margin:0 0 6px; color:#334155; font-size:12px; letter-spacing:.2px }
.kpi .card p{ margin:0; color:#0f172a; font-size:22px; font-weight:900; line-height:1.1 }
.kpi .card .sub{ margin-top:4px; font-size:12px; color:#6b7280 }
.kpi .card .delta{ margin-left:6px; font-size:12px; font-weight:700 }
.kpi .card .delta.up{ color:#10b981 }
.kpi .card .delta.down{ color:#ef4444 }

/* Optional: equal height cards */
.kpi .card{ display:flex; flex-direction:column; justify-content:center }


/* =============================
   0811B: KPI cards with light-gray background + visible segmented tabs
   ============================= */

/* New variable for KPI background */
:root{
  --kpi-bg: #f1f5f9;           /* darker KPI background */
  --kpi-border: #d1d5db;       /* matching darker border */
}

/* KPI: full-managed (#kpi .stat-card) */
#kpi .stat-card,
.kpi .card{
  border: none;
  box-shadow: var(--shadow);
  color: #fff;
}
#kpi .stat-card h4, #kpi .stat-card p,
.kpi .card h4, .kpi .card p{ color:#fff; }

/* Gradient backgrounds for KPI cards */
#kpi .stat-card:nth-child(1), .kpi .card:nth-child(1){
  background:linear-gradient(135deg,#4338ca,#3730a3);
}
#kpi .stat-card:nth-child(2), .kpi .card:nth-child(2){
  background:linear-gradient(135deg,#1e40af,#0c4a6e);
}
#kpi .stat-card:nth-child(3), .kpi .card:nth-child(3){
  background:linear-gradient(135deg,#0f766e,#065f46);
}
#kpi .stat-card:nth-child(4), .kpi .card:nth-child(4){
  background:linear-gradient(135deg,#166534,#365314);
}
#kpi .stat-card:nth-child(5), .kpi .card:nth-child(5){
  background:linear-gradient(135deg,#365314,#713f12);
}
#kpi .stat-card:nth-child(6), .kpi .card:nth-child(6){
  background:linear-gradient(135deg,#713f12,#7f1d1d);
}
#kpi .stat-card:nth-child(7), .kpi .card:nth-child(7){
  background:linear-gradient(135deg,#7f1d1d,#9f1239);
}

#kpi .stat-card .sub{ margin-top:4px; font-size:12px; color:#f1f5f9; }
#kpi .stat-card .delta{ margin-left:6px; font-size:12px; font-weight:700; }
#kpi .stat-card .delta.up{ color:#bbf7d0; }
#kpi .stat-card .delta.down{ color:#fecaca; }

/* Override self-operated KPI sub/delta colors for contrast */
.kpi .card .sub{ color:#f1f5f9; }
.kpi .card .delta.up{ color:#bbf7d0; }
.kpi .card .delta.down{ color:#fecaca; }
.kpi .card a{ color:#fff; text-decoration:underline; }

/* Segmented tabs for "明细表 / 运营分析" (works for various markup) */
.tabs, .tab-group, .segmented, .btn-group.tabs, .switch-group{
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 4px;
  background: #f3f4f6;
  border: 1px solid #e5e7eb;
  border-radius: 12px;
  box-shadow: var(--shadow);
}

.tabs .tab, .tab-group .tab, .segmented .tab,
.tabs button, .tab-group button, .segmented button, .btn-group.tabs .btn, .switch-group .btn{
  background: #fff;
  color: var(--text);
  border: 1px solid transparent;
  padding: 6px 12px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 600;
}

.tabs .tab.active, .tab-group .tab.active, .segmented .tab.active,
.tabs button.active, .tab-group button.active, .segmented button.active,
.btn-group.tabs .btn.active, .switch-group .btn.active{
  background: var(--brand);
  color: #fff;
  border-color: var(--brand);
}

.tabs .tab:hover, .tab-group .tab:hover, .segmented .tab:hover,
.tabs button:hover, .tab-group button:hover, .segmented button:hover,
.btn-group.tabs .btn:hover, .switch-group .btn:hover{
  background:#f8fafc;
}

/* Ensure the group doesn't collapse */
.tabs:empty, .tab-group:empty, .segmented:empty, .btn-group.tabs:empty, .switch-group:empty{
  display:none;
}


/* Global loading overlay */
.loading-overlay{
  position:fixed;
  top:0;left:0;
  width:100%;height:100%;
  background:rgba(255,255,255,0.6);
  display:none;
  align-items:center;
  justify-content:center;
  z-index:3000;
}
.loading-overlay .loading-box{ text-align:center; }
.loading-overlay .progress{ width:200px;height:8px;background:#e5e7eb;border-radius:4px;overflow:hidden; }
.loading-overlay .progress .bar{ width:0;height:100%;background:var(--brand);transition:width .3s ease; }
.loading-overlay .loading-text{ margin-top:12px;font-size:14px;color:#334155; }
